<div class="container d-flex flex-column justify-content-around align-items-center">
  <% if @pet.photo.attached? %>
    <div class="d-flex justify-content-around show">
      <div class="card-pet">
        <%= cl_image_tag @pet.photo.key %>
  <% else %>
    <div class="container">
      <div class="card-pet">
        <img src="https://images.unsplash.com/photo-1560743641-3914f2c45636?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=633&q=80)" />
  <% end %>
      <div class="card-pet-infos">
        <div>
          <h2><%= @pet.name %></h2>
          <div>
            <p> <i class="fas fa-paw"></i> <%= @pet.specie %> <i class="fas fa-expand-arrows-alt"></i> <%= @pet.size %> <i class="fas fa-info-circle"></i> <%= @pet.description %></p>
          </div>
        </div>
          <%#= cl_image_tag @pet.user.photo.key, width: 40, height: 40, crop: :fill, class: "card-pet-user avatar-bordered" %>
      </div>
    </div>
  </div><br>
  <div class="d-flex justify-content-around show">
    <% if policy(Request.new(pet: @pet, user: current_user)).create? %>
      <%= link_to "Request this Pet", pet_requests_path(@pet), class: "btn btn-success", method: :post %>
    <% end %>
    <% if policy(@pet).edit? %>
      <%= link_to "Update", edit_pet_path(@pet), class: "btn btn-success" %>
    <% end %>
    <% if policy(@pet).destroy? %>
      <%= link_to pet_path(@pet), class: "btn btn-danger", method: :delete, data: { confirm: 'Are you sure?' } do %>
        <p>Remove <i class="fas fa-trash text-light"></i></p>
      <% end %>
    <% end %>
  </div><br>
  <div id="map"
       style="width: 320px; height: 320px;"
       data-markers="<%= @markers.to_json %>"
       data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"></div>
  </div>
  <div class="container">
    <%= link_to "Back", pets_path, class: "btn btn-flat" %>
  </div>
</div>
